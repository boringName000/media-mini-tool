<!-- è´¦å·è¯¦æƒ…é¡µé¢ -->
<view class="account-detail-container">
  
  <!-- è´¦å·åŸºæœ¬ä¿¡æ¯ -->
  <view class="account-header">
    <view class="account-info">
      <view class="account-name">{{accountInfo.accountNickname || accountInfo.accountName}}</view>
      <view class="account-id">ID: {{accountInfo.accountId}}</view>
    </view>
  </view>

  <!-- è´¦å·è¯¦ç»†ä¿¡æ¯ -->
  <view class="detail-section">
    <view class="detail-card">
      
      <!-- èµ›é“é€‰æ‹© -->
      <view class="detail-item">
        <view class="detail-label">
          <text class="label-text">èµ›é“</text>
        </view>
        <view class="detail-content">
          <view class="form-input-wrapper">
            <picker 
              mode="selector" 
              range="{{trackTypeList}}" 
              range-key="name"
              value="{{selectedTrackIndex}}"
              bindchange="onTrackTypeChange"
              class="picker-button"
            >
              <view class="picker-display">
                <text class="picker-text">{{selectedTrackType ? selectedTrackType.name : 'è¯·é€‰æ‹©èµ›é“'}}</text>
                <text class="picker-arrow">â€º</text>
              </view>
            </picker>
          </view>
        </view>
        <view class="error-message" wx:if="{{errors.trackType}}">
          <text class="error-text">{{errors.trackType}}</text>
        </view>
      </view>

      <!-- å¹³å°ä¿¡æ¯ -->
      <view class="detail-item">
        <view class="detail-label">
          <text class="label-text">å¹³å°</text>
        </view>
        <view class="detail-content">
          <view class="display-value">
            <text class="platform-icon">{{accountInfo.platformIcon || 'ğŸ“±'}}</text>
            <text class="platform-name">{{accountInfo.platform}}</text>
          </view>
        </view>
      </view>

      <!-- æ³¨å†Œæ‰‹æœºå· -->
      <view class="detail-item">
        <view class="detail-label">
          <text class="label-text">æ³¨å†Œæ‰‹æœºå·</text>
        </view>
        <view class="detail-content">
          <view class="form-input-wrapper">
            <input 
              class="form-input {{errors.phoneNumber ? 'error' : ''}}"
              type="number"
              placeholder="è¯·è¾“å…¥æ³¨å†Œæ‰‹æœºå·"
              value="{{phoneNumber}}"
              bindinput="onPhoneInput"
              maxlength="11"
            />
          </view>
        </view>
        <view class="error-message" wx:if="{{errors.phoneNumber}}">
          <text class="error-text">{{errors.phoneNumber}}</text>
        </view>
      </view>

      <!-- è´¦å·æ˜µç§° -->
      <view class="detail-item">
        <view class="detail-label">
          <text class="label-text">è´¦å·æ˜µç§°</text>
        </view>
        <view class="detail-content">
          <view class="form-input-wrapper">
            <input 
              class="form-input {{errors.accountNickname ? 'error' : ''}}"
              placeholder="è¯·è¾“å…¥è´¦å·æ˜µç§°"
              value="{{accountNickname}}"
              bindinput="onNicknameInput"
              maxlength="50"
            />
          </view>
        </view>
        <view class="error-message" wx:if="{{errors.accountNickname}}">
          <text class="error-text">{{errors.accountNickname}}</text>
        </view>
      </view>

      <!-- è´¦å·ID -->
      <view class="detail-item">
        <view class="detail-label">
          <text class="label-text">è´¦å·ID</text>
        </view>
        <view class="detail-content">
          <view class="display-value">
            <text class="account-id-value">{{accountInfo.accountId}}</text>
          </view>
        </view>
      </view>

      <!-- æ³¨å†Œæ—¥æœŸ -->
      <view class="detail-item">
        <view class="detail-label">
          <text class="label-text">æ³¨å†Œæ—¥æœŸ</text>
        </view>
        <view class="detail-content">
          <view class="display-value">
            <text class="register-date">{{accountInfo.registerDateDisplay || 'æœªè®¾ç½®'}}</text>
          </view>
        </view>
      </view>

      <!-- æ˜¯å¦è¿è§„ -->
      <view class="detail-item">
        <view class="detail-label">
          <text class="label-text">æ˜¯å¦è¿è§„</text>
        </view>
        <view class="detail-content">
          <view class="switch-wrapper">
            <switch 
              checked="{{isViolation}}" 
              bindchange="onViolationChange"
              color="#007aff"
            />
            <text class="switch-label">{{isViolation ? 'æ˜¯' : 'å¦'}}</text>
          </view>
        </view>
      </view>

      <!-- èµ„æ–™é¡µæˆªå›¾ -->
      <view class="detail-item">
        <view class="detail-label">
          <text class="label-text">èµ„æ–™é¡µæˆªå›¾</text>
        </view>
        <view class="detail-content">
          <view class="upload-section">
            <view class="upload-area" wx:if="{{!screenshotUrl || screenshotUrl.length === 0}}" bindtap="uploadScreenshot">
              <text class="upload-icon">ğŸ“·</text>
              <text class="upload-text">ç‚¹å‡»ä¸Šä¼ æˆªå›¾</text>
              <text class="upload-hint">æ”¯æŒjpgã€pngæ ¼å¼</text>
            </view>
            <view class="image-preview" wx:if="{{screenshotUrl && screenshotUrl.length > 0}}">
              <view class="preview-image-container" bindtap="previewScreenshot">
                <smart-image
                  src="{{screenshotUrl}}"
                  mode="aspectFill"
                  class="preview-image"
                />
              </view>
              <view class="image-actions">
                <view class="action-btn delete-btn" bindtap="deleteScreenshot">
                  <text class="btn-icon">ğŸ—‘ï¸</text>
                </view>
                <view class="action-btn preview-btn" bindtap="previewScreenshot">
                  <text class="btn-icon">ğŸ‘ï¸</text>
                </view>
              </view>
            </view>
          </view>
        </view>
      </view>

    </view>
  </view>

  <!-- æäº¤æŒ‰é’® -->
  <view class="submit-section">
    <button 
      class="submit-btn" 
      bindtap="submitAudit"
      disabled="{{isUploading}}"
    >
      <text class="btn-text">{{isUploading ? 'ä¸Šä¼ ä¸­...' : 'æäº¤å®¡æ ¸'}}</text>
    </button>
  </view>

</view> 