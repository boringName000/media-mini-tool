<!-- 测试数据库页面 -->
<view class="test-container">
  <view class="test-section">
    <view class="section-title">用户信息测试</view>
    <button class="test-btn" bindtap="getUserInfo">获取用户信息</button>
    
    <view class="result-display" wx:if="{{userInfo}}">
      <view class="result-title">用户信息：</view>
      <view class="result-content">
        <text>用户ID: {{userInfo.userId}}</text>
        <text>昵称: {{userInfo.nickname}}</text>
        <text>手机: {{userInfo.phone}}</text>
        <text>账号数量: {{userInfo.accounts ? userInfo.accounts.length : 0}}</text>
      </view>
    </view>
  </view>

  <!-- 真实账户截图URL智能图片组件测试 -->
  <view class="test-section">
    <view class="section-title">真实账户截图URL智能图片组件测试</view>
    <button class="test-btn" bindtap="testAccountScreenshot">测试账户截图</button>
    <button class="test-btn" bindtap="switchAccount">切换账户</button>
    <button class="test-btn" bindtap="getRealAccountData">刷新账户数据</button>
    
    <!-- 真实账户数据展示 -->
    <view class="account-info" wx:if="{{realAccountData}}">
      <view class="account-item">
        <text class="account-label">账号ID:</text>
        <text class="account-value">{{realAccountData.accountId}}</text>
      </view>
      <view class="account-item">
        <text class="account-label">平台:</text>
        <text class="account-value">{{realAccountData.platform}}</text>
      </view>
      <view class="account-item">
        <text class="account-label">赛道类型:</text>
        <text class="account-value">{{realAccountData.trackType}}</text>
      </view>
      <view class="account-item">
        <text class="account-label">账号昵称:</text>
        <text class="account-value">{{realAccountData.accountNickname}}</text>
      </view>
      <view class="account-item">
        <text class="account-label">手机号:</text>
        <text class="account-value">{{realAccountData.phoneNumber}}</text>
      </view>
      <view class="account-item">
        <text class="account-label">是否违规:</text>
        <text class="account-value">{{realAccountData.isViolation ? '是' : '否'}}</text>
      </view>
      <view class="account-item">
        <text class="account-label">截图URL:</text>
        <text class="account-value">{{realAccountData.screenshotUrl || '无截图'}}</text>
      </view>
    </view>
    
    <!-- 账户截图展示 -->
    <view class="account-screenshot" wx:if="{{realAccountData && realAccountData.screenshotUrl}}">
      <view class="image-label">真实账户截图（使用智能图片组件）</view>
      <smart-image 
        class="test-image large-image"
        src="{{realAccountData.screenshotUrl}}"
        mode="aspectFit"
        bindload="onImageLoad"
        binderror="onImageError"
        bindtap="onImageTap"
      />
      <view class="image-url">{{realAccountData.screenshotUrl}}</view>
    </view>
    
    <!-- 无数据提示 -->
    <view class="no-data" wx:if="{{!realAccountData}}">
      <text class="no-data-text">暂无真实账户数据</text>
      <text class="no-data-hint">请先登录并获取账户数据</text>
    </view>
  </view>
</view> 