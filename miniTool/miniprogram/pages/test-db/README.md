# 数据库测试页面

这个页面用于测试各种功能，包括用户信息获取、日期格式化、以及智能图片组件的展示。

## 功能说明

### 1. 用户信息测试

- 测试获取当前用户信息
- 显示用户 ID、昵称、手机号、账号数量等信息

### 2. 日期格式化测试

- 测试不同格式的日期字符串处理
- 支持多种日期格式：ISO 格式、简单日期、时间戳、Date 对象等
- 支持多种输出格式：YYYY-MM-DD、中文格式、时间格式等

### 3. 智能图片组件测试 🆕

#### 3.1 云存储图片展示测试

- 测试云存储图片的显示
- 使用 `cloud-image` 组件展示云存储图片
- 支持多种图片格式（jpg、png 等）

#### 3.2 本地图片展示测试

- 测试本地图片的显示
- 使用普通 `image` 组件展示本地图片
- 包括默认平台图片、图标等

#### 3.3 外部图片展示测试

- 测试外部 HTTP/HTTPS 图片的显示
- 使用占位图片进行测试
- 测试图片加载错误处理

#### 3.4 临时文件展示测试

- 测试临时文件的显示
- 使用背景图片方式展示临时文件
- 模拟上传过程中的临时文件

#### 3.5 账户数据资料图展示测试

- 展示完整的账户数据结构
- 包含账户基本信息：ID、平台、赛道类型、昵称、手机号等
- 展示账户截图（云存储图片）
- 使用智能图片组件自动处理不同类型的图片

## 测试数据

### 图片测试数据

- **云存储图片**: 模拟真实的云存储文件 ID
- **本地图片**: 项目中的实际图片文件
- **外部图片**: 使用 placeholder.com 的占位图片
- **临时文件**: 模拟上传过程中的临时文件路径

### 账户数据

```javascript
{
  accountId: "test-account-001",
  platform: "douyin",
  trackType: "lifestyle",
  accountNickname: "测试账号昵称",
  phoneNumber: "13800138000",
  isViolation: false,
  screenshotUrl: "cloud://.../account-screenshot.jpg",
  createTime: "2024-01-15T10:30:00.000Z",
  updateTime: "2024-01-15T15:45:00.000Z"
}
```

## 使用方法

1. 进入测试页面
2. 点击"获取用户信息"测试用户信息获取
3. 点击"测试日期格式化"测试日期处理功能
4. 点击"测试图片处理"测试图片处理逻辑
5. 查看各种图片的展示效果
6. 点击"清空结果"清除测试结果

## 智能图片组件特性

### 自动识别图片类型

- 云存储图片：自动使用 `cloud-image` 组件
- 本地图片：使用普通 `image` 组件
- 临时文件：使用背景图片方式
- 外部图片：使用普通 `image` 组件

### 错误处理

- 图片加载失败时自动降级到默认图片
- 云存储图片加载失败时尝试重新获取临时 URL
- 提供详细的错误日志

### 事件处理

- 支持图片加载成功事件
- 支持图片加载错误事件
- 支持图片点击事件

## 注意事项

1. 云存储图片需要有效的文件 ID 才能正常显示
2. 外部图片可能受到网络限制
3. 临时文件在实际环境中需要真实的临时文件路径
4. 测试结果会显示在控制台中，便于调试

## 相关文件

- `test-db.js`: 测试页面逻辑
- `test-db.wxml`: 测试页面模板
- `test-db.wxss`: 测试页面样式
- `smart-image/`: 智能图片组件
- `imageUtils.js`: 图片处理工具类
