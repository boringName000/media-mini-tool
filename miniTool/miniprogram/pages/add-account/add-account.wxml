<!-- æ·»åŠ è´¦å·é¡µé¢ -->
<view class="add-account-container">

  <!-- è¡¨å•åŒºåŸŸ -->
  <view class="form-section">
    <view class="form-card">
      
      <!-- èµ›é“é€‰æ‹© -->
      <view class="form-item">
        <view class="form-label">
          <text class="label-text">é€‰æ‹©èµ›é“</text>
          <text class="required">*</text>
        </view>
        <view class="form-input-wrapper">
          <picker 
            mode="selector" 
            range="{{trackTypeList}}" 
            range-key="name"
            bindchange="onTrackTypeChange"
            class="picker-button"
          >
            <view class="picker-display">
              <text class="picker-text">{{selectedTrackType ? selectedTrackType.name : 'è¯·é€‰æ‹©èµ›é“'}}</text>
              <text class="picker-arrow">â€º</text>
            </view>
          </picker>
        </view>
        <view class="error-message" wx:if="{{errors.trackType}}">
          <text class="error-text">{{errors.trackType}}</text>
        </view>
      </view>

      <!-- å¹³å°é€‰æ‹© -->
      <view class="form-item">
        <view class="form-label">
          <text class="label-text">é€‰æ‹©å¹³å°</text>
          <text class="required">*</text>
        </view>
        <view class="form-input-wrapper">
          <picker 
            mode="selector" 
            range="{{platformList}}" 
            range-key="name"
            bindchange="onPlatformChange"
            class="picker-button"
          >
            <view class="picker-display">
              <text class="picker-text">{{selectedPlatform ? selectedPlatform.name : 'è¯·é€‰æ‹©å¹³å°'}}</text>
              <text class="picker-arrow">â€º</text>
            </view>
          </picker>
        </view>
        <view class="error-message" wx:if="{{errors.platform}}">
          <text class="error-text">{{errors.platform}}</text>
        </view>
      </view>

      <!-- æ³¨å†Œæ‰‹æœºå· -->
      <view class="form-item">
        <view class="form-label">
          <text class="label-text">æ³¨å†Œæ‰‹æœºå·</text>
          <text class="required">*</text>
        </view>
        <view class="form-input-wrapper">
          <input 
            class="form-input {{errors.phoneNumber ? 'error' : ''}}"
            type="number"
            placeholder="è¯·è¾“å…¥æ³¨å†Œæ‰‹æœºå·"
            value="{{phoneNumber}}"
            bindinput="onPhoneInput"
            maxlength="11"
          />
        </view>
        <view class="error-message" wx:if="{{errors.phoneNumber}}">
          <text class="error-text">{{errors.phoneNumber}}</text>
        </view>
      </view>

      <!-- è´¦å·æ˜µç§° -->
      <view class="form-item">
        <view class="form-label">
          <text class="label-text">è´¦å·æ˜µç§°</text>
          <text class="required">*</text>
        </view>
        <view class="form-input-wrapper">
          <input 
            class="form-input {{errors.accountNickname ? 'error' : ''}}"
            placeholder="è¯·è¾“å…¥è´¦å·æ˜µç§°"
            value="{{accountNickname}}"
            bindinput="onNicknameInput"
            maxlength="50"
          />
        </view>
        <view class="error-message" wx:if="{{errors.accountNickname}}">
          <text class="error-text">{{errors.accountNickname}}</text>
        </view>
      </view>

      <!-- è´¦å·ID -->
      <view class="form-item">
        <view class="form-label">
          <text class="label-text">è´¦å·ID</text>
          <text class="required">*</text>
        </view>
        <view class="form-input-wrapper">
          <input 
            class="form-input {{errors.accountId ? 'error' : ''}}"
            placeholder="è¯·è¾“å…¥è´¦å·ID"
            value="{{accountId}}"
            bindinput="onAccountIdInput"
            maxlength="50"
          />
        </view>
        <view class="error-message" wx:if="{{errors.accountId}}">
          <text class="error-text">{{errors.accountId}}</text>
        </view>
      </view>

      <!-- æ³¨å†Œæ—¥æœŸ -->
      <view class="form-item">
        <view class="form-label">
          <text class="label-text">æ³¨å†Œæ—¥æœŸ</text>
        </view>
        <view class="form-input-wrapper">
          <picker 
            mode="date" 
            value="{{registerDate}}" 
            bindchange="onDateChange"
            class="date-picker"
          >
            <view class="picker-display">
              <text class="picker-text">{{registerDate}}</text>
              <text class="picker-arrow">ğŸ“…</text>
            </view>
          </picker>
        </view>
      </view>

      <!-- æ˜¯å¦è¿è§„ -->
      <view class="form-item">
        <view class="form-label">
          <text class="label-text">æ˜¯å¦è¿è§„</text>
        </view>
        <view class="switch-wrapper">
          <switch 
            checked="{{isViolation}}" 
            bindchange="onViolationChange"
            color="#007aff"
          />
          <text class="switch-label">{{isViolation ? 'æ˜¯' : 'å¦'}}</text>
        </view>
      </view>

      <!-- èµ„æ–™é¡µæˆªå›¾ -->
      <view class="form-item">
        <view class="form-label">
          <text class="label-text">èµ„æ–™é¡µæˆªå›¾</text>
        </view>
        <view class="upload-section">
          <view class="upload-area" wx:if="{{!screenshotUrl}}" bindtap="uploadScreenshot">
            <text class="upload-icon">ğŸ“·</text>
            <text class="upload-text">ç‚¹å‡»ä¸Šä¼ æˆªå›¾</text>
            <text class="upload-hint">æ”¯æŒjpgã€pngæ ¼å¼</text>
          </view>
          <view class="image-preview" wx:if="{{screenshotUrl}}">
            <image 
              class="preview-image" 
              src="{{screenshotUrl}}" 
              mode="aspectFit"
              bindtap="previewScreenshot"
            />
            <view class="image-actions">
              <button class="action-btn delete-btn" bindtap="deleteScreenshot">
                <text class="btn-icon">ğŸ—‘ï¸</text>
              </button>
              <button class="action-btn preview-btn" bindtap="previewScreenshot">
                <text class="btn-icon">ğŸ‘ï¸</text>
              </button>
            </view>
          </view>
        </view>
      </view>

    </view>
  </view>

  <!-- æäº¤æŒ‰é’® -->
  <view class="submit-section">
    <button 
      class="submit-btn" 
      bindtap="submitForm"
      disabled="{{isUploading}}"
    >
      <text class="btn-text">{{isUploading ? 'ä¸Šä¼ ä¸­...' : 'æäº¤'}}</text>
    </button>
  </view>

  <!-- æç¤ºä¿¡æ¯ -->
  <view class="tips-section">
    <view class="tips-card">
      <view class="tips-header">
        <text class="tips-icon">ğŸ’¡</text>
        <text class="tips-title">æ¸©é¦¨æç¤º</text>
      </view>
      <view class="tips-content">
        <text class="tips-text">â€¢ è¯·ç¡®ä¿æ‰€æœ‰å¿…å¡«é¡¹éƒ½å·²å¡«å†™</text>
        <text class="tips-text">â€¢ æ‰‹æœºå·æ ¼å¼ä¸º11ä½æ•°å­—</text>
        <text class="tips-text">â€¢ æˆªå›¾è¯·ç¡®ä¿æ¸…æ™°å¯è§</text>
        <text class="tips-text">â€¢ æäº¤åå°†æ— æ³•ä¿®æ”¹ï¼Œè¯·ä»”ç»†æ ¸å¯¹</text>
      </view>
    </view>
  </view>

</view> 