# 排版工具页面

## 功能概述

排版工具页面是一个专门用于管理和预览下载文件的工具页面，提供文件下载、列表管理、内容预览等功能。

## 主要功能

### 1. 文件下载

- 从云存储下载测试文件
- 自动保存到本地 downloads 目录
- 支持 .txt 和 .html 格式文件

### 2. 文件管理

- **文件列表显示**: 自动加载已下载的文件列表
- **文件信息**: 显示文件名、大小、下载时间
- **文件操作**: 支持预览和删除单个文件
- **批量操作**: 支持清空所有文件

### 3. 内容预览

- **本地预览**: 在页面内预览文件内容
- **效果预览**: 跳转到文章预览页面查看渲染效果
- **内容显示**: 支持长文本内容的滚动查看

### 4. 页面特性

- **自动刷新**: 页面显示时自动刷新文件列表
- **下拉刷新**: 支持下拉刷新文件列表
- **响应式设计**: 适配不同屏幕尺寸
- **现代化 UI**: 卡片式设计，美观易用

## 使用方法

### 下载文件

1. 点击"下载测试文件"按钮
2. 等待下载完成
3. 文件自动保存到本地并显示在列表中

### 预览文件

1. 点击文件列表中的"预览"按钮
2. 在页面内查看文件内容
3. 点击"查看效果"跳转到全屏预览页面

### 管理文件

- **删除单个文件**: 点击文件右侧的"删除"按钮
- **清空所有文件**: 点击"清空所有文件"按钮

## 技术实现

### 文件系统操作

- 使用 `wx.getFileSystemManager()` 进行文件操作
- 自动创建 downloads 目录
- 支持文件读写、删除等操作

### 云存储集成

- 使用 `wx.cloud.downloadFile()` 下载云存储文件
- 支持临时文件到本地文件的转换

### 数据管理

- 文件信息包含：名称、路径、大小、时间
- 按时间倒序排列文件列表
- 实时更新文件状态

## 文件结构

```
pages/layout-tool/
├── layout-tool.js    # 页面逻辑
├── layout-tool.wxml  # 页面结构
├── layout-tool.wxss  # 页面样式
├── layout-tool.json  # 页面配置
└── README.md        # 说明文档
```

## 样式特点

### 设计风格

- **现代化卡片设计**: 使用圆角和阴影效果
- **渐变按钮**: 主要操作按钮使用渐变色
- **响应式布局**: 适配不同屏幕尺寸
- **交互反馈**: 按钮点击有视觉反馈

### 颜色方案

- **主色调**: 蓝紫色渐变 (#667eea → #764ba2)
- **成功色**: 绿色 (#4caf50)
- **危险色**: 红色 (#f44336)
- **中性色**: 灰色系 (#f8f9fa, #e0e0e0, #666)

## 注意事项

1. **文件权限**: 需要小程序的文件系统权限
2. **存储限制**: 注意本地存储空间的使用
3. **网络状态**: 下载功能需要网络连接
4. **文件格式**: 主要支持 .txt 和 .html 格式
5. **内容长度**: 大文件可能影响页面性能

## 更新日志

- **v1.0.0**: 初始版本
  - 基础文件下载功能
  - 文件列表管理
  - 内容预览功能
  - 现代化 UI 设计
