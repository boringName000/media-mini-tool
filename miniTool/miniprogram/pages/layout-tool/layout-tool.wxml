<!--pages/layout-tool/layout-tool.wxml-->
<view class="layout-tool-container">
  <view class="tool-section">
    <view class="section-title">æŽ’ç‰ˆå·¥å…·</view>
    
    <!-- æ“ä½œæŒ‰é’® -->
    <view class="action-buttons">
      <button class="action-btn primary" bindtap="downloadTestFile">ä¸‹è½½æµ‹è¯•æ–‡ä»¶</button>
      <button class="action-btn secondary" bindtap="clearAllFiles" wx:if="{{downloadedFiles.length > 0}}">æ¸…ç©ºæ‰€æœ‰æ–‡ä»¶</button>
    </view>
    
    <!-- ä¸‹è½½çŠ¶æ€ -->
    <view class="download-status" wx:if="{{downloadStatus}}">
      <text class="status-text">{{downloadStatus}}</text>
    </view>
    
    <!-- æ–‡ä»¶åˆ—è¡¨ -->
    <view class="file-list-section" wx:if="{{downloadedFiles.length > 0}}">
      <view class="section-subtitle">å·²ä¸‹è½½æ–‡ä»¶ ({{downloadedFiles.length}})</view>
      <view class="file-list">
        <view class="file-item" wx:for="{{downloadedFiles}}" wx:key="index">
          <view class="file-info">
            <view class="file-header">
              <text class="file-name" bindtap="readFileContent" data-file="{{item}}">{{item.name}}</text>
              <view class="file-actions">
                <button class="file-action-btn preview-btn" bindtap="readFileContent" data-file="{{item}}">é¢„è§ˆ</button>
                <button class="file-action-btn delete-btn" bindtap="deleteFile" data-file="{{item}}">åˆ é™¤</button>
              </view>
            </view>
            <view class="file-details">
              <text class="file-size">{{item.size}}</text>
              <text class="file-time">{{item.time}}</text>
            </view>
          </view>
        </view>
      </view>
    </view>
    

    
    <!-- æ— æ–‡ä»¶æç¤º -->
    <view class="no-data" wx:if="{{downloadedFiles.length === 0 && downloadStatus && !downloadStatus.includes('å¤±è´¥')}}">
      <view class="no-data-icon">ðŸ“„</view>
      <text class="no-data-text">æš‚æ— ä¸‹è½½çš„æ–‡ä»¶</text>
      <text class="no-data-hint">ç‚¹å‡»"ä¸‹è½½æµ‹è¯•æ–‡ä»¶"å¼€å§‹ä¸‹è½½</text>
    </view>
  </view>
</view>
