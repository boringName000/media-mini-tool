<!-- ä»»åŠ¡åˆ—è¡¨é¡µé¢ -->
<view class="task-list-container">
  <!-- çŠ¶æ€æ˜¾ç¤º -->
  <view class="status-display" wx:if="{{currentStatus !== null}}">
    <text class="status-text">{{statusDisplayText}}ä»»åŠ¡</text>
  </view>

  <!-- ä»»åŠ¡åˆ—è¡¨ -->
  <view class="task-list">
    <view class="task-item" wx:for="{{taskList}}" wx:key="taskId" bindtap="viewTaskDetail" data-task="{{item}}">
      <view class="task-header">
        <view class="task-platform">
          <text class="platform-icon">{{item.platformIcon}}</text>
          <text class="platform-name">{{item.platformName}}</text>
        </view>
        <view class="task-status {{item.statusClass}}">
          <text class="status-text">{{item.statusText}}</text>
        </view>
      </view>
      
      <view class="task-content">
        <view class="task-title">{{item.articleTitle}}</view>
        
        <view class="task-info">
          <view class="info-row">
            <view class="info-item">
              <text class="info-label">ä»»åŠ¡IDï¼š</text>
              <text class="info-value">{{item.taskId}}</text>
            </view>
            <view class="info-item">
              <text class="info-label">èµ›é“ï¼š</text>
              <text class="info-value">{{item.trackType}}</text>
            </view>
          </view>
          <view class="info-row">
            <view class="info-item">
              <text class="info-label">è´¦å·ï¼š</text>
              <text class="info-value">{{item.accountName}}</text>
            </view>
            <view class="info-item">
              <text class="info-label">ä»»åŠ¡æ—¶é—´ï¼š</text>
              <text class="info-value">{{item.taskTime}}</text>
            </view>
          </view>
        </view>
      </view>
      
      <view class="task-footer">
        <view class="task-actions" wx:if="{{item.status === 1}}">
          <button class="action-btn download-btn" catchtap="downloadTask" data-task="{{item}}">ä¸‹è½½</button>
          <button class="action-btn upload-btn" catchtap="uploadTask" data-task="{{item}}">å›ä¼ </button>
        </view>
        <view class="task-completed" wx:elif="{{item.status === 2}}">
          <text class="completed-text">ä»»åŠ¡å·²å®Œæˆ</text>
        </view>
        <view class="task-rejected" wx:elif="{{item.status === 3}}">
          <text class="rejected-text">ä»»åŠ¡å·²æ‹’ç»</text>
        </view>
      </view>
    </view>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty-state" wx:if="{{taskList.length === 0}}">
    <text class="empty-icon">ğŸ“‹</text>
    <text class="empty-text">æš‚æ— ä»»åŠ¡</text>
    <text class="empty-desc">å½“å‰ç­›é€‰æ¡ä»¶ä¸‹æ²¡æœ‰æ‰¾åˆ°ç›¸å…³ä»»åŠ¡</text>
  </view>

  <!-- åŠ è½½æ›´å¤š -->
  <view class="load-more" wx:if="{{hasMore && taskList.length > 0}}">
    <text class="load-text" wx:if="{{!loading}}">ä¸Šæ‹‰åŠ è½½æ›´å¤š</text>
    <view class="loading" wx:else>
      <text class="loading-text">åŠ è½½ä¸­...</text>
    </view>
  </view>
</view> 