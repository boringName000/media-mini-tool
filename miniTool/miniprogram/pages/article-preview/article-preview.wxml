<!--pages/article-preview/article-preview.wxml-->
<view class="article-preview-container">
  <!-- 文章标题显示 -->
  <view wx:if="{{articleTitle}}" class="article-title-container">
    <text class="article-title">{{articleTitle}}</text>
  </view>

  <!-- 复制按钮 -->
  <view class="copy-button-container">
    <button class="copy-btn copy-title-btn" bindtap="copyTitle">复制标题</button>
    <button class="copy-btn copy-content-btn" bindtap="copyContent">复制内容</button>
  </view>

  <!-- 加载状态 -->
  <view wx:if="{{isLoading}}" class="loading-container">
    <view class="loading-spinner"></view>
    <text class="loading-text">正在解析文章...</text>
  </view>

  <!-- 错误状态 -->
  <view wx:elif="{{errorMessage}}" class="error-container">
    <view class="error-icon-placeholder">⚠️</view>
    <text class="error-text">{{errorMessage}}</text>
    <button class="retry-btn" bindtap="onBackTap">返回重试</button>
  </view>

  <!-- 文章内容 -->
  <view wx:else class="article-content-container">
    <mp-html 
      content="{{articleContent}}" 
      class="article-content"
      selectable="{{true}}"
      copy-link="{{false}}"
      show-img-menu="{{true}}"
      preview-img="{{true}}"
      lazy-load="{{true}}"
      tag-style="{{tagStyle}}"
      bindload="onHtmlLoad"
      bindready="onHtmlReady"
      bindimgtap="onImgTap"
      binderror="onImgError"
    />
  </view>
</view>
