<!--pages/article-preview/article-preview.wxml-->
<view class="article-preview-container">


  <!-- 错误状态 -->
  <view wx:if="{{errorMessage}}" class="error-container">
    <view class="error-icon">⚠️</view>
    <text class="error-text">{{errorMessage}}</text>
    <button class="retry-btn" bindtap="onRetryTap">重试</button>
  </view>

  <!-- web-view 准备状态 -->
  <view wx:elif="{{isPreparing}}" class="preparing-container">
    <view class="preparing-icon">🎨</view>
    <text class="preparing-title">正在准备预览效果</text>
    <text class="preparing-subtitle">请耐心等待，页面正在初始化中...</text>
    <view class="preparing-status">
      <text class="status-text">正在获取下载链接...</text>
    </view>
  </view>

  <!-- web-view 内容区域 -->
  <view wx:elif="{{webViewUrl && !isPreparing}}" class="webview-container">
    <web-view 
      src="{{webViewUrl}}" 
      bindload="onWebViewLoad"
      bindloadfinish="onWebViewLoadFinish"
      binderror="onWebViewLoadError"
    />
  </view>

  <!-- 默认等待状态 -->
  <view wx:else class="waiting-container">
    <view class="waiting-icon">⏳</view>
    <text class="waiting-text">准备中...</text>
  </view>
</view>
